了解です。  
では **「Cursor にそのまま貼るだけで、技術スタッフ全員が同じ理解に立てる状態」** に整理します。  
※ 余計な説明は削り、**実装判断に必要な情報だけ**に絞っています。

---

# 📘 技術要件定義書（Cursor貼り付け用・完成版）

## プロジェクト名

**大人向け・中級者以上英会話トレーニングアプリ（自分用MVP）**

---

## 1. プロジェクト概要（全員共通認識）

### 目的

- 英語を「勉強する」のではなく  
    **会話しながら、本人が気づけない表現・文法・クセを記録・改善する**
    
- 中級者以上が **止まらず話し続ける** ことを最優先に設計する
    

### コンセプト

- 会話中は一切訂正しない
    
- セッション終了後にのみフィードバック
    
- フィードバックは Notion に蓄積
    
- 教師型ではなく「聞き役・相棒型」
    

---

## 2. 技術スタック（確定）

### フロントエンド

- **Next.js（App Router）**
    
- Web / PWA 前提
    
- 音声入力対応（Web Speech API or Whisper連携）
    

### バックエンド

- **Python / FastAPI**
    
- 非同期処理前提（会話解析はバックグラウンド）
    

### AI / 音声

- 音声認識：Whisper系（API or local）
    
- 会話解析・フィードバック生成：LLM（OpenAI想定）
    

### データベース

- **Notion Database（公式API）**
    
- RDBは使わない（MVPでは）
    

---

## 3. 全体アーキテクチャ

```
[ Next.js ]
- 音声入力
- 会話UI
- セッション管理

        ↓ API

[ FastAPI ]
- 音声テキスト受信
- 会話ログ管理
- LLM解析リクエスト
- Notion連携

        ↓

[ Notion DB ]
- 会話ログ
- フィードバック
- ユーザー別履歴
```

---

## 4. 機能要件（MVP）

### 4.1 会話トレーニング機能

#### フロー

1. トピックを1つ提示
    
2. ユーザーが英語で話す
    
3. アプリは遮らない
    
4. 音声 → テキスト変換
    
5. セッション終了で解析開始
    

#### トピック例（固定でOK）

- Daily life
    
- Work / Business small talk
    
- Opinion / Experience
    

---

### 4.2 音声処理

- 入力：マイク
    
- 出力：英語テキスト
    
- 保存：全文＋タイムスタンプ
    

---

### 4.3 会話解析（重要）

#### 解析対象

- 文法ミス
    
- 不自然な表現
    
- 直訳英語
    
- 繰り返し使うクセ
    

#### 方針

- 会話中：解析しない
    
- セッション後：一括解析
    

---

### 4.4 フィードバック生成

#### 出力フォーマット（固定）

- original_sentence
    
- corrected_sentence
    
- short_reason（簡潔）
    
- category（grammar / expression / vocab）
    
- tone（casual / business）
    

---

### 4.5 Notion保存

#### DB① Conversation Logs

- date
    
- topic
    
- transcript
    
- duration
    

#### DB② Feedback Logs

- original_sentence
    
- corrected_sentence
    
- reason
    
- category
    
- created_at
    
- auto_tags（頻出・クセ）
    

---

### 4.6 振り返り（簡易）

- 過去のフィードバック一覧取得
    
- 最新セッションの改善ポイント3つ表示
    

---

## 5. 非機能要件

### パフォーマンス

- 会話中にラグを出さない
    
- 解析は非同期
    

### UX

- 学習感を出さない
    
- 「話す」操作を最短導線に
    

### セキュリティ

- 個人利用前提
    
- データ共有・公開なし
    

---

## 6. API設計（FastAPI）

### POST /session/start

- topic
    

### POST /session/utterance

- session_id
    
- transcript_chunk
    

### POST /session/end

- session_id
    

### POST /analyze

- session_id
    

### GET /feedback/latest

- session_id
    

---

## 7. 実装優先順位（開発順）

1. 音声入力 → テキスト化
    
2. セッション管理
    
3. 会話ログ保存
    
4. LLM解析
    
5. Notion連携
    
6. フィードバック表示
    

---

## 8. MVPの定義（ここまで作ればOK）

- 話せる
    
- 会話が止まらない
    
- 終了後に「自分の弱点」が残る
    
- Notionに履歴が溜まる
    

---

## 9. 将来拡張（今回は対象外）

- レベル判定
    
- SaaS化
    
- 他ユーザー対応
    
- モバイルアプリ化
    

---

## 10. 開発思想（重要・共有事項）

- 正解を教えない
    
- 会話を止めない
    
- 信頼・雑談・実践を最優先
    
- 「気づき」を残すアプリ
    

---

ここまでが **Cursor に貼って、そのまま設計・実装に入れる完全版要件定義**です。

次にできることは👇

- Cursor用 **「最初のプロンプト（実装開始指示）」**
    
- Notion DBの **JSONレベル設計**
    
- FastAPIの **初期コード雛形**
    
- Next.jsの **画面構成 & コンポーネント設計**
    

どこから行きますか？